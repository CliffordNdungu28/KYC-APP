@using KYC_APP.Data.ViewModels;
@using KYC_APP.Data.Enums;
@model DocumentTypeViewModel;



@{
    ViewData["Title"] = "KYC APP";
    Layout = "~/Views/Shared/_Layout-2.cshtml";
}


    
    <section class="section">
        <div class="row">
            <div class="col-lg-8">

                <div class="card" >
                    <div class="card-body">
                        <h5 class="card-title">Document Manager</h5>

                        <button type="button" class="btn btn-primary" id="addDocumentBtn">Add Document Type</button>

                    </div>
                </div>

                <div class="card" id="addDocumentSection" style="display:none;">
                    <div class="card-body">
                        <h5 class="card-title">Add a Document</h5>

                        <!-- Horizontal Form -->
                        <form asp-action="CreateDocumentType" novalidate>
                            <div class="row mb-3">
                                <div class="form-floating">
                                    <input asp-for="@Model.DocumentTypesVM.Name" type="text" class="form-control" id="floatingName" placeholder="Your Name">
                                <label asp-for="@Model.DocumentTypesVM.Name" for="floatingName">Document Name</label>
                                </div>

                            </div>

                        <div class="row mb-3">
                            <label asp-for="@Model.DocumentTypesVM.Description" class="form-label">Description</label>
                            <div class="col-sm-10">
                                <textarea asp-for="@Model.DocumentTypesVM.Description" class="form-control" style="height: 100px" id="floatingDescription" placeholder="Description"></textarea>
                            </div>
                           
                        </div>

                            <div class="row mb-4">
                                <label for="inputEmail3" class="col-sm-3 col-form-label">Category</label>
                                <div class="col-sm-10">

                                <select asp-for="@Model.DocumentTypesVM.Category" class="form-control">
                                        @foreach (var category in Enum.GetValues(typeof(KYCCategories)))
                                        {
                                            <option value="@category">@category</option>
                                        }
                                    </select>

                                </div>
                            </div>


                            <div class="row mb-4">
                                <label for="inputEmail3" class="col-sm-3 col-form-label">Document Type</label>
                                <div class="col-sm-10">

                                <select asp-for="@Model.DocumentTypesVM.Type" class="form-control">
                                        @foreach (var type in Enum.GetValues(typeof(DocumentType)))
                                        {
                                            <option value="@type">@type</option>
                                        }
                                    </select>

                                  
                                </div>
                            </div>

                            <div class="row mb-4">
                                <label for="inputEmail3" class="col-sm-3 col-form-label">Renewal Period</label>
                                <div class="col-sm-10">

                                <select asp-for="@Model.DocumentTypesVM.RenewalPeriod" class="form-control">
                                        @foreach (var renewalperiod in Enum.GetValues(typeof(RenewalPeriod)))
                                        {
                                            <option value="@renewalperiod">@renewalperiod</option>
                                        }
                                    </select>

                                    
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary">Submit</button>
                                <button type="button" class="btn btn-dark" id="closeDocumentBtn">Close</button>
                                <!-- <button type="reset" class="btn btn-secondary">Reset</button> -->
                            </div>





                        </form><!-- End Horizontal Form -->



                    </div>
                </div>
            </div>


            <div class="col-lg-10">

                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Document Types</h5>

                    <table class="table">
                        <thead>
                            <tr>

                                <th scope="col">Name</th>
                                <th scope="col">Category</th>
                                <th scope="col">Renewal Period</th>
                                <th scope="col">Type</th>
                                <th scope="col">Status</th>
                                <th scope="col">Actions</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var documenttype in Model.DocumentTypesList)
                            {
                                <tr>

                                    <td>@documenttype.Name</td>
                                    <td>@documenttype.Category</td>
                                    <td>@documenttype.RenewalPeriod</td>
                                    <td>@documenttype.type</td>
                                   
                                    <td>
                                        @if (documenttype.status)
                                        {
                                            <button type="button" class="btn btn-primary" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to Turn Off Visibility">
                                                Visible
                                            </button>
                                        }
                                        else
                                        {
                                            <button type="button" class="btn btn-secondary" data-bs-toggle="tooltip" data-bs-placement="top" title="Click to Turn On Visibility">
                                                Off
                                            </button>
                                        }
                                    </td>
                                    <td><button type="button" class="btn btn-danger"><i class="bi bi-exclamation-octagon"></i></button></td>
                                </tr>
                            }

                        </tbody>
                    </table>
                       
                        <!-- End Default Table Example -->
                    </div>
                </div>




            </div>

        </div>
        </div>
    </section>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById('addDocumentBtn').addEventListener('click', function () {
        document.getElementById('addDocumentSection').style.display = 'block';
    });

    document.getElementById('closeDocumentBtn').addEventListener('click', function () {
        document.getElementById('addDocumentSection').style.display = 'none';
    });
</script>